# Gemini 屏幕助手 v1

<p align="center">
  <img src="https://raw.githubusercontent.com/michaelz9436/GeminiScreenHelper/main/assets/ball.ico" alt="Gemini Screen Helper Icon" width="100">
</p>

欢迎使用 Gemini 屏幕助手！本工具可以通过自定义快捷键，快速截屏或使用剪贴板内容，或将文件/文本拖至悬浮球，调用 Google Gemini 模型进行文字识别、翻译或任何你指定的任务。  
程序已开放下载！ --见 `release` 最新链接。

---
## ✨ 功能演示

#### 场景一：使用悬浮球拖拽分析文件/文本/快速开启会话
![Reading Demo](https://raw.githubusercontent.com/michaelz9436/GeminiScreenHelper/main/assets/demo12.gif)

#### 场景二：使用快捷键截图/剪贴板内容进行翻译/识别/代码任务
![Reading Demo](https://raw.githubusercontent.com/michaelz9436/GeminiScreenHelper/main/assets/demo11.gif)

---

## ✨ 核心特性

*   **智能悬浮球**: 您的桌面AI伙伴，可自由拖动，右键唤出功能菜单。
*   **多模态拖放**: 将图片、文本、PDF、Word、PPT等文件直接拖拽到悬浮球上，即可快速分析与处理。
*   **全局快捷键**: 自定义全局快捷键，随时随地触发截图识别或剪贴板处理。
*   **图形化设置**: 在直观的设置菜单中，轻松管理您的API Key、代理、快捷键和所有AI指令。
*   **系统托盘集成**: 可将悬浮球最小化到系统托盘，保持桌面整洁。

---

## 🚀 首次运行设置 (必读！)

为了让程序正常启动，您**只需要在第一次运行时**手动编辑一次配置文件来填入您的API Key。

1.  **运行程序**: 运行exe，并在悬浮球菜单找到 `设置` 。

2.  **填入 API Key**: 找到 `"api_key"` 字段，并填入你自己的 Gemini API Key。
    > 你可以从 Google AI Studio 免费获取: <https://aistudio.google.com/app/apikey>
  
3.  **填入快捷键**：找到截图和剪切板的快捷键字段，按照后续的要求填入你喜欢的快捷键。

4.  **重启**: 保存设置，重启或退出程序使API和快捷键生效。
    > 你可以将程序快捷方式添加到开机启动，不用每次手动运行。

**🎉 恭喜！您只需要完成这一步就能召唤gemini！之后的所有设置都也可以在程序内的图形化“设置”菜单中轻松完成。**

---

## 🕹️ 主要功能与使用方法

#### 1. 悬浮球 (The Floating Ball)
这是程序的主入口。
*   **拖动**: 按住鼠标左键可以将其拖动到屏幕的任何位置。
*   **右键菜单**: 右键点击悬浮球，会弹出主功能菜单。

#### 2. 右键菜单 (The Right-Click Menu)
*   **开始新对话**: 快速打开一个聊天窗口，开始与AI的临时对话。
*   **使用说明**: 打开本帮助文档。
*   **设置**: 打开图形化的设置窗口，管理所有配置。
*   **隐藏悬浮球**: 将悬浮球最小化到系统右下角的托盘区。
*   **重启/退出**: 重启或关闭应用程序。

#### 3. 拖放识别 (Drag & Drop)
将以下内容直接拖到悬浮球上即可触发相应的AI分析：
*   **选中的文本**: 快速翻译、解释或总结。
*   **图片文件**: (`.png`, `.jpg` 等) 描述图片内容。
*   **文档文件**: (`.txt`, `.pdf`, `.docx`, `.pptx` 等) 总结文档核心要点。

#### 4. 全局快捷键 (Global Hotkeys)
在后台随时通过您自定义的快捷键触发特定功能（默认为截图和剪贴板处理）。

---

## ⚙️ 设置菜单详解

通过**右键菜单 -> 设置**打开。在这里，您可以直观地管理所有配置。

#### 1. 通用设置
*   **API Key**: 您的 Google Gemini API 密钥。
*   **代理 URL**: 您的本地网络代理地址。
    *   **留空 (推荐)**: 程序会自动检测系统代理，适应大多数网络环境。
    *   **手动填写**: 如果自动检测失败，请填写完整的代理地址，例如 `http://127.0.0.1:7890`。
*   **模型名称**: 指定使用的 Gemini 模型。`gemini-2.5-flash-Lite` 在速度和性能上取得了很好的平衡。

#### 2. 快捷键动作
此区域管理通过**快捷键**触发的功能。
*   **快捷键**: 定义触发的按键组合，如 `shift+win+d`。
*   **提示词 (Prompt)**: 定义当该快捷键被触发时，发送给AI的初始指令。

#### 3. 拖放动作
此区域管理**拖放文件**触发的功能。
*   **文件类型**: 以文件扩展名（如 `.pdf`, `.py`）作为标识。
*   **提示词 (Prompt)**: 定义当对应类型的文件被拖放时，发送给AI的初始指令。

> **重要提示**: API Key、代理URL 和快捷键的任何更改，都需要通过**右键菜单 -> 重启**来使新设置生效。

---

## ❓ 常见问题 (FAQ)

**Q: 程序双击后没反应或闪退？**
A: 99% 的可能是您没有完成“首次运行设置”，请确保 `config.json` 文件中的 `api_key` 已被正确填写。

**Q: 快捷键按了没反应？**
A: 1. 请检查设置的快捷键是否与系统或其他软件的快捷键冲突。 2. 修改快捷键后，必须**重启**程序才能生效。

**Q: 悬浮球不见了？**
A: 请检查屏幕右下角的系统托盘区，程序图标可能被隐藏在那里。右键点击托盘图标可以选择“显示悬浮球”。

**Q: 提示网络错误或请求超时？**
A: 请检查：1. 您的网络连接是否正常。 2. 您的代理是否开启且设置正确。 3. 您的 API Key 是否有效。

## 🤖 推荐模型选择

下面表格列出了 Gemini 模型的部分参数。  

- **TPM**: 每分钟允许的最大请求数（Transactions Per Minute）。  
- **RPD**: 每天允许的最大请求数（Requests Per Day）。  

模型选择可以参考官方文档：[Gemini API 速率限制](https://ai.google.dev/gemini-api/docs/rate-limits?hl=zh-cn)。

| 型号 | 每千次展示收入 | TPM | RPD |
|------|----------------|-----|-----|
| Gemini 2.5 Pro       | 5   | 250,000 | 100   |
| Gemini 2.5 Flash     | 10  | 250,000 | 250   |
| Gemini 2.5 Flash-Lite| 15  | 250,000 | 1000  |
| Gemini 2.0 Flash     | 15  | 1,000,000 | 200  |
| Gemini 2.0 Flash-Lite| 30  | 1,000,000 | 200  |

---

## 🛠️ 故障排查
-   如果程序启动时报错，请首先检查log.txt日志信息，以及 `config.json` 的格式是否正确（例如，逗号、引号是否完整）。
-   如果快捷键无响应，请确保没有其他程序占用了相同的快捷键。
-   如果API调用失败，请检查 API Key 是否正确、网络代理是否开启并设置正确。

---

## 🔒 安全与隐私声明

请在使用本工具前了解以下信息：

1.  **截图内容上传**: 为了实现识别和翻译功能，您截取的屏幕区域图像将会被上传至 Google 的 Gemini API 服务器进行处理。请避免截取包含密码、个人隐私或任何敏感信息的区域。

2.  **全局快捷键监听**: 本程序会在后台监听您的键盘输入，以便响应您设置的全局快捷键。本程序**不会**记录或上传除快捷键组合之外的任何键盘活动。

3.  **杀毒软件警告**: 由于本程序需要监听全局键盘快捷键，部分杀毒软件（包括 Windows Defender）可能会将其标记为潜在风险程序（如 "Keylogger" 或 "监控工具"）。这是一个正常的误报，因为杀毒软件无法区分善意的快捷键功能和恶意的键盘记录。如果您信任本程序的源代码和功能，请选择“允许”或将本程序添加到信任列表。

4.  **配置文件安全**: 您的 Gemini API Key 存储在您本地的 `config.json` 文件中，不会被上传或分享。请妥善保管此文件，不要泄露给他人。

**本项目为开源工具，旨在提升效率。我们鼓励您审查源代码以确保其安全性。**